# Лабораторная работа №4
## Вариант 7
## Условие задачи:
![](Screenshots/Screenshot1.png) <br> <br>
$Декоратор$ — это функция, которая принимает другую функцию и расширяет её функциональность, не изменяя её исходный код. Нужно создать декоратор, который будет перенаправлять вывод функции в null или просто игнорировать его: 
![](Screenshots/Screenshot6.png) <br> <br> 
$Замыкание$ — это функция, которая запоминает своё окружение (переменные, которые были доступны в момент её создания). В данном случае нужно создать функцию, которая будет отслеживать HP героя и использовать внутреннюю переменную для хранения текущего значения HP.
![](Screenshots/Screenshot3.png) <br> <br>
## Описание проделанной работы:
## 1) Функция dekorator:
В нём лежит внутренняя функция wrapper, которая будет вызывать оригинальную функцию и подавлять её вывод, $*args$ и $**kwargs$ для того, чтобы передать любые аргументы и именованные аргументы в оригинальную функцию. 
Далее идёт перенаправление стандартного вывода $sys.stdout$ на объект $StringIO$, чтобы ничего не выводилось на консоль. Перед этим идёт сохранение $sys.stdout$, чтобы потом восстановить его.
Затем вызывается оригиналаьная функция внутри блока try, чтобы убедиться, что даже если произойдёт ошибка, то можно будет восстановить стандартный вывод.
В блоке finally восстанавливается оригинальная sys.stdout, чтобы вернуть вывод на консоль.
В конце возвращается обёртка, для работы декоратора.<br> <br> <br>
## 2) Функция hp_tracker:
В самом начале нужно создать переменную hp = 100 и вложить функцию modify_hp в которой переменная hp обозначается как не локальная, далее идёт логика изменения hp.
В конце hp_tracker я возвращаю функцию modify_hp, чтобы она могла использоваться вне этой зоны видимости. Далее создаётся замыкание, вызывая hp_tracker и сохранение в hero_hp <br> <br> <br>
## 3) Функция print_hp:
![](Screenshots/Screenshot5.png)
Функция print_hp нужна чтобы увидеть текущее hp, но так как к ней применён декоратор, вывода не последует. <br> <br>
# Список использованных источников: 
1) [Декораторы в python](https://tproger.ru/translations/demystifying-decorators-in-python)
2) [Декораторы](https://ru.hexlet.io/courses/python-functions/lessons/decorators/theory_unit)
2) [Замыкание и декораторы в python](https://habr.com/ru/articles/781866/)